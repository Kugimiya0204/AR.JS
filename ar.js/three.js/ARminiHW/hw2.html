<!DOCTYPE html>

<html>

<head>
<style>
#info {
  position: absolute;
  top: 0px;
  width: 100%;
  padding: 10px;
  text-align: center;
  color: #000000
}

body {
  overflow: hidden;
}

</style>
</head>

<body> 
<div id="info">hw2</div>
<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js">
</script>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<br>
<br>
<br>
<button id='toggle'>
toggle
</button>
<p id="text" style ="color:red">
color
</p>
<script>
var camera, scene, renderer;
var angle = 0;
var group;
var isActive = false;
var omega = 0;
init();
animate();

 $('#toggle').click (

   function() {
		  isActive = ! isActive;
    }
);
function init() {

  scene = new THREE.Scene();

  renderer = new THREE.WebGLRenderer();
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setClearColor(0x888888);
  document.body.appendChild(renderer.domElement);

  camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
  camera.position.z = 50;
  let controls = new THREE.OrbitControls(camera, renderer.domElement);

  ////////////////////////////////////////////////////////////////
  var gridXZ = new THREE.GridHelper(200, 20, 'red', 'white');
  scene.add(gridXZ);

 group = new THREE.Group();
 group2 = new THREE.Group();
  scene.add (group);  
  scene.add (group2);
let geometry3 = new THREE.ConeGeometry(5,10,8);
let material3 = new THREE.MeshBasicMaterial({color:000000});
let pointer = new THREE.Mesh(geometry3,material3);
group2.add(pointer);
group2.position.set(0,0,-20);
group2.rotation.x=0.5*Math.PI;
let geometry0 = new THREE.CircleGeometry( 20, 32, Math.PI/2, 
2*Math.PI/3);
let material0 = new THREE.MeshBasicMaterial( { color: 0xffff00, side: THREE.DoubleSide} );
let circle0 = new THREE.Mesh( geometry0, material0 );
group.add( circle0 );  

let geometry1 = new THREE.CircleGeometry( 20, 32, Math.PI/2 + 2/3*Math.PI, 
2*Math.PI/3);
let material1 = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
let circle1 = new THREE.Mesh( geometry1, material1 );
group.add( circle1 );  
   
let geometry2 = new THREE.CircleGeometry( 20, 32, Math.PI/2 - 2/3*Math.PI, 
2*Math.PI/3);
let material2 = new THREE.MeshBasicMaterial( { color: 0x00ffff } );
let circle2 = new THREE.Mesh( geometry2, material2 );
group.add( circle2 );  
group.rotation.x=1.5*Math.PI;
}

function animate() {
  var dt= 0.2 ;
  var maxOmega = 5;
  requestAnimationFrame(animate);
  render();
  if(isActive){
   omega = omega + 0.3*dt;
  }else{
   omega = omega - 0.15*dt;
  }
  omega=clamp(omega, 0,maxOmega);
  angle+=omega*dt;
  group.rotation.z=angle;
  if((angle%(2*Math.PI))<(2/3*Math.PI))
  {
   $('#text').css ('color', 'blue'); 
  }
  else if((2/3*Math.PI<(angle%(2*Math.PI)))&&((angle%(2*Math.PI))<4/3*Math.PI)){
   $('#text').css ('color', 'red');
}
  else if(4/3*Math.PI<(angle%(2*Math.PI))){
   $('#text').css ('color', 'yellow');
 }
}
function render() {

  renderer.render(scene, camera);

}
function clamp (x, xLo, xHi) {
	if (x < xLo) return xLo;
  if (x > xHi) return xHi;
  else return x;
}


</script>
</body>

</html>